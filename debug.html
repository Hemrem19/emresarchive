<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Emre's Archive</title>
</head>
<body>
    <h1>Debug Console</h1>
    <pre id="debug-output"></pre>
    
    <script type="module">
        const output = document.getElementById('debug-output');
        
        function log(message) {
            output.textContent += message + '\n';
            console.log(message);
        }
        
        try {
            log('1. Testing imports...');
            const { openDB, getAllPapers } = await import('./db.js');
            log('✓ db.js imported successfully');
            
            const { renderPaperList } = await import('./ui.js');
            log('✓ ui.js imported successfully');
            
            log('\n2. Opening database...');
            await openDB();
            log('✓ Database opened');
            
            log('\n3. Fetching papers...');
            const papers = await getAllPapers();
            log(`✓ Found ${papers.length} papers`);
            
            if (papers.length > 0) {
                log('\n4. Paper details:');
                papers.forEach((paper, index) => {
                    log(`  Paper ${index + 1}: ${paper.title}`);
                    log(`    Authors: ${paper.authors.join(', ')}`);
                    log(`    Status: ${paper.readingStatus}`);
                });
            } else {
                log('\n⚠ No papers in database');
            }
            
            log('\n✓ All tests passed! The database and imports are working correctly.');
            
        } catch (error) {
            log(`\n✗ ERROR: ${error.message}`);
            log(`Stack: ${error.stack}`);
        }
    </script>
</body>
</html>

