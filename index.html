<!DOCTYPE html>
<html lang="en" class="scroll-smooth dark">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport" />
    <title>citavers - Your Research, Your Rules.</title>
    <meta name="description"
        content="The simple research paper manager. Organize, annotate, and connect your knowledge without losing control of your data." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://citavers.com/" />
    <meta property="og:title" content="citavers - Your Research, Your Rules." />
    <meta property="og:description"
        content="The simple research paper manager. Organize, annotate, and connect your knowledge." />
    <meta property="og:image" content="https://citavers.com/assets/logos/social-preview.png" />

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0f172a">
    <link rel="icon" type="image/png" href="assets/logos/favicon.png">
    <link rel="apple-touch-icon" href="assets/logos/icon-192.png">
    <link rel="manifest" href="assets/logos/site.webmanifest">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- PDF.js & Vis-Network (App Dependencies) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf_viewer.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/vis-network@9.1.9/standalone/umd/vis-network.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.4.0/exceljs.min.js"></script>

    <script>
        // Configure PDF.js
        if (typeof pdfjsLib !== 'undefined') {
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
        }

        // Tailwind Config
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#3b82f6",
                        "primary-dark": "#2563eb",
                        "dark-bg": "#0B0F19",
                        "card-dark": "#111827",
                        "sidebar-dark": "#0f172a",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"],
                        "sans": ["Manrope", "sans-serif"]
                    },
                    backgroundImage: {
                        'hero-glow': "radial-gradient(circle at 50% 0%, rgba(59, 130, 246, 0.08) 0%, transparent 60%)",
                        'grid-pattern': "linear-gradient(to right, #1f2937 1px, transparent 1px), linear-gradient(to bottom, #1f2937 1px, transparent 1px)",
                    }
                },
            },
        }
    </script>

    <style>
        /* Modern Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Glassmorphism Utilities */
        .glass-panel {
            background: rgba(11, 15, 25, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-sidebar {
            background: rgba(11, 15, 25, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-card {
            background: linear-gradient(180deg, rgba(30, 41, 59, 0.4) 0%, rgba(15, 23, 42, 0.4) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-2px);
            border-color: rgba(59, 130, 246, 0.3);
        }

        /* Paper Card Styles */
        .paper-card {
            background: linear-gradient(180deg, rgba(30, 41, 59, 0.3) 0%, rgba(15, 23, 42, 0.3) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.03);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .paper-card:hover {
            background: linear-gradient(180deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.6) 100%);
            border-color: rgba(59, 130, 246, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
        }

        /* Status Dot Glows */
        .status-dot-reading {
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
        }

        .status-dot-toread {
            box-shadow: 0 0 10px rgba(234, 179, 8, 0.6);
        }

        .status-dot-finished {
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.6);
        }

        /* Hero Image 3D effect */
        .hero-image-container {
            transform: perspective(1000px) rotateX(2deg);
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 400px;
        }
        
        @media (max-width: 768px) {
            .hero-image-container {
                transform: none;
                min-height: auto;
            }
        }

        @media (min-width: 768px) {
            .hero-image-container {
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            }
        }

        /* Safe Areas */
        body {
            padding-top: env(safe-area-inset-top);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        /* Mobile Sidebar transitions */
        .sidebar-transition {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Hide scrollbar for horizontal scroll areas */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body
    class="bg-[#0B0F19] font-display text-slate-300 antialiased selection:bg-primary selection:text-white overflow-x-hidden">

    <!-- ========================================== -->
    <!-- GLOBAL BACKGROUNDS                         -->
    <!-- ========================================== -->
    <!-- Background Grids & Glows (Visible on both Landing and App) -->
    <div
        class="fixed inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3N2Zz4=')] [mask-image:linear-gradient(to_bottom,white,transparent)] pointer-events-none z-0">
    </div>
    <div class="fixed top-0 left-1/2 -translate-x-1/2 w-full h-[600px] bg-hero-glow pointer-events-none z-0"></div>

    <!-- ========================================== -->
    <!-- LANDING PAGE (Visible only on root / )     -->
    <!-- ========================================== -->
    <div id="landing-page" class="relative w-full overflow-hidden z-10">

        <!-- Navbar -->
        <nav class="fixed top-0 w-full z-50 glass">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <img src="assets/logos/logo-mark.png" alt="Logo" class="h-8 w-8"
                        onerror="this.style.display='none'">
                    <span class="text-white font-bold text-lg tracking-tight lowercase">citavers</span>
                </div>
                <div class="flex items-center gap-4">
                    <a href="https://github.com/Hemrem19/emresarchive" target="_blank"
                        class="hidden sm:flex items-center gap-2 text-sm font-medium text-slate-400 hover:text-white transition-colors">
                        GitHub
                    </a>
                    <a href="#/app"
                        class="bg-white text-slate-900 px-4 sm:px-5 py-2 rounded-full text-sm font-bold hover:bg-slate-200 transition-colors whitespace-nowrap">
                        Open App
                    </a>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="relative pt-28 pb-16 md:pt-32 md:pb-20 px-4 sm:px-6 max-w-7xl mx-auto text-center">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-semibold uppercase tracking-wider mb-6 animate-fade-in">
                <span class="w-2 h-2 rounded-full bg-blue-400 animate-pulse"></span>
                v2.2 Available
            </div>

            <h1 class="text-4xl sm:text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight tracking-tight">
                Your Research. <br class="hidden md:block" />
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">Fully Under
                    Your Control.</span>
            </h1>

            <p
                class="text-base sm:text-lg md:text-xl text-slate-400 max-w-2xl mx-auto mb-8 md:mb-10 leading-relaxed px-2">
                The research assistant that lives on your computer. Private, fast, and yours forever.
                No servers to trust, no subscriptions to pay.
            </p>

            <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16 md:mb-20 px-4">
                <a href="#/app"
                    class="w-full sm:w-auto px-8 py-4 bg-primary hover:bg-primary-dark text-white rounded-lg font-bold text-lg shadow-lg shadow-blue-500/25 transition-all transform hover:scale-105">
                    Start Organizing
                </a>
                <a href="#/docs"
                    class="w-full sm:w-auto px-8 py-4 bg-slate-800 hover:bg-slate-700 text-slate-200 border border-slate-700 rounded-lg font-semibold text-lg transition-all">
                    See How It Works
                </a>
            </div>

            <!-- Hero Dashboard Preview - Interactive Search Demo -->
            <div class="relative max-w-5xl mx-auto hero-image-container rounded-xl overflow-hidden bg-slate-900/50 backdrop-blur-sm border border-white/5 p-6 md:p-8">
                <!-- Search Bar -->
                <div class="relative mb-6">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <span class="material-symbols-outlined text-slate-500 text-xl">search</span>
                    </div>
                    <input 
                        type="text" 
                        id="hero-search-input"
                        placeholder="Try searching: 'transformer', 'NLP', or 'BERT'..."
                        class="w-full h-12 pl-12 pr-4 bg-slate-800/60 border border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 text-white placeholder-slate-500 transition-all shadow-lg"
                    />
                    <div class="absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none">
                        <kbd class="hidden sm:inline-flex items-center h-6 px-2 rounded border border-slate-600 bg-slate-800/50 text-[10px] text-slate-400 font-sans font-bold">⌘K</kbd>
                    </div>
                </div>

                <!-- Paper Cards Container -->
                <div class="space-y-3" id="hero-search-results">
                    <!-- Paper cards will be filtered here -->
                </div>

                <div class="absolute inset-0 bg-gradient-to-t from-[#0B0F19] via-transparent to-transparent opacity-20 pointer-events-none">
                </div>
            </div>
        </section>

        <!-- Value Prop (Bento Grid) -->
        <section class="py-16 md:py-24 px-4 sm:px-6 relative">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-2xl sm:text-3xl font-bold text-white mb-8 md:mb-12 text-center">Why use citavers?</h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Card 1: Privacy (Large) -->
                    <div class="glass-card md:col-span-2 p-6 md:p-8 rounded-2xl relative overflow-hidden group">
                        <div class="absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity">
                            <span class="material-symbols-outlined text-9xl">lock</span>
                        </div>
                        <div class="relative z-10">
                            <div class="w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6">
                                <span class="material-symbols-outlined text-blue-400">shield_lock</span>
                            </div>
                            <h3 class="text-xl md:text-2xl font-bold text-white mb-3">Private by Design</h3>
                            <p class="text-slate-400 text-base md:text-lg leading-relaxed">
                                Your library lives directly on your device. We don't see your research, we don't track
                                your reading habits, and we don't store your files on our servers. Your intellectual
                                property stays with you.
                            </p>
                        </div>
                    </div>

                    <!-- Card 2: Offline -->
                    <div class="glass-card p-6 md:p-8 rounded-2xl">
                        <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mb-6">
                            <span class="material-symbols-outlined text-purple-400">wifi_off</span>
                        </div>
                        <h3 class="text-lg md:text-xl font-bold text-white mb-2">Always Available</h3>
                        <p class="text-slate-400 text-sm md:text-base">
                            No internet? No problem. Use the full app anywhere—on a plane, in a lab, or off the grid.
                        </p>
                    </div>

                    <!-- Card 3: Performance -->
                    <div class="glass-card p-6 md:p-8 rounded-2xl">
                        <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mb-6">
                            <span class="material-symbols-outlined text-green-400">bolt</span>
                        </div>
                        <h3 class="text-lg md:text-xl font-bold text-white mb-2">Distraction-Free</h3>
                        <p class="text-slate-400 text-sm md:text-base">
                            Designed for focus. No loading screens, no complex menus. Just you and your papers.
                        </p>
                    </div>

                    <!-- Card 4: Open Source -->
                    <div class="glass-card md:col-span-2 p-6 md:p-8 rounded-2xl">
                        <div class="flex items-center gap-4 mb-4">
                            <div class="w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center">
                                <span class="material-symbols-outlined text-orange-400">favorite</span>
                            </div>
                            <h3 class="text-lg md:text-xl font-bold text-white">Free & Transparent</h3>
                        </div>
                        <p class="text-slate-400 text-sm md:text-base">
                            Built by researchers, for researchers. The code is open for anyone to see. No hidden fees or
                            locked features.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features (Zig-Zag Layout) -->
        <section class="py-16 md:py-24 px-4 sm:px-6 bg-slate-900/50">
            <div class="max-w-7xl mx-auto space-y-16 md:space-y-24">

                <!-- Feature 1: Graph -->
                <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                    <div class="md:w-1/2 order-2 md:order-1">
                        <div
                            class="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-blue-400 uppercase bg-blue-900/30 rounded-full">
                            Visual Discovery
                        </div>
                        <h2 class="text-2xl md:text-4xl font-bold text-white mb-4 md:mb-6">See the Big Picture.</h2>
                        <p class="text-slate-400 text-base md:text-lg mb-6 md:mb-8 leading-relaxed">
                            Don't just collect papers—connect them. Visualize how your sources relate to each other with
                            an interactive map. Find patterns and clusters in your research that simple lists can't
                            show.
                        </p>
                        <ul class="space-y-3 text-slate-300 text-sm md:text-base">
                            <li class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-green-400 text-xl">check_circle</span>
                                See connections instantly
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-green-400 text-xl">check_circle</span>
                                Organize by topic or status
                            </li>
                        </ul>
                    </div>
                    <div class="md:w-1/2 order-1 md:order-2 w-full">
                        <div class="glass-card p-2 rounded-xl border border-slate-700 overflow-hidden">
                            <!-- Interactive Graph Demo -->
                            <div id="landing-graph-demo" class="w-full h-[400px] md:h-[500px] rounded-lg bg-slate-900/50"></div>
                        </div>
                    </div>
                </div>

                <!-- Feature 2: Notes & Annotations (Reversed) -->
                <div class="flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12">
                    <div class="md:w-1/2 order-2 md:order-1">
                        <div
                            class="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-purple-400 uppercase bg-purple-900/30 rounded-full">
                            Deep Work
                        </div>
                        <h2 class="text-2xl md:text-4xl font-bold text-white mb-4 md:mb-6">Annotate. Summarize. Track.
                        </h2>
                        <p class="text-slate-400 text-base md:text-lg mb-6 md:mb-8 leading-relaxed">
                            Take rich notes with formatting, write detailed summaries, and track your reading progress.
                            Keep all your thoughts and insights organized alongside your papers.
                        </p>
                        <ul class="space-y-3 text-slate-300 text-sm md:text-base">
                            <li class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-purple-400 text-xl">edit_note</span>
                                Rich text notes with formatting support
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-purple-400 text-xl">summarize</span>
                                Write detailed summaries for each paper
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-purple-400 text-xl">track_changes</span>
                                Track reading progress by page
                            </li>
                        </ul>
                    </div>
                    <div class="md:w-1/2 order-1 md:order-2 w-full">
                        <div class="glass-card p-4 rounded-xl border border-slate-700">
                            <!-- Interactive Notes Editor Demo -->
                            <div class="bg-slate-900/60 backdrop-blur-xl rounded-lg border border-white/5 overflow-hidden">
                                <!-- Toolbar -->
                                <div class="flex items-center gap-1 px-3 py-2 border-b border-white/5 bg-white/5">
                                    <button class="p-1.5 rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors" title="Bold">
                                        <span class="material-symbols-outlined text-sm">format_bold</span>
                                    </button>
                                    <button class="p-1.5 rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors" title="Italic">
                                        <span class="material-symbols-outlined text-sm">format_italic</span>
                                    </button>
                                    <div class="w-px h-4 bg-white/10 mx-1"></div>
                                    <button class="p-1.5 rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors" title="Bullet List">
                                        <span class="material-symbols-outlined text-sm">format_list_bulleted</span>
                                    </button>
                                    <button class="p-1.5 rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors" title="Numbered List">
                                        <span class="material-symbols-outlined text-sm">format_list_numbered</span>
                                    </button>
                                </div>
                                
                                <!-- Content Area with Typing Animation -->
                                <div id="notes-demo-content" class="p-4 h-[300px] text-slate-300 text-sm leading-relaxed overflow-y-auto custom-scrollbar">
                                    <!-- Content will be typed here -->
                                </div>
                                
                                <!-- Progress Bar -->
                                <div class="px-4 pb-4 border-t border-white/5 pt-3">
                                    <div class="flex justify-between text-xs text-slate-400 mb-2">
                                        <span>Reading Progress</span>
                                        <span id="progress-text">0%</span>
                                    </div>
                                    <div class="h-2 bg-slate-800 rounded-full overflow-hidden">
                                        <div id="progress-bar" class="h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-1000" style="width: 0%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Feature Checklist Section -->
        <section class="py-16 md:py-24 px-4 sm:px-6 bg-slate-900/30">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-8 text-center">Everything you need to organize your research</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="feature-checklist">
                    <!-- Feature items will be animated here -->
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-16 md:py-24 px-4 sm:px-6 text-center">
            <div
                class="max-w-4xl mx-auto glass p-8 md:p-12 rounded-3xl border border-blue-500/20 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-blue-500">
                </div>

                <h2 class="text-2xl md:text-4xl font-bold text-white mb-4 md:mb-6">Ready to get organized?</h2>
                <p class="text-slate-400 text-base md:text-lg mb-8 md:mb-10 max-w-2xl mx-auto">
                    Start managing your research simply and securely. No sign-up required.
                </p>
                <a href="#/app"
                    class="inline-flex items-center gap-2 px-8 py-4 bg-white text-slate-900 rounded-lg font-bold text-lg hover:bg-slate-200 transition-colors w-full sm:w-auto justify-center">
                    <span>Launch App</span>
                    <span class="material-symbols-outlined">rocket_launch</span>
                </a>
                <p class="mt-6 text-sm text-slate-500">Free and Open Source under MIT License.</p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-12 border-t border-slate-800 text-center text-slate-500 text-sm px-4">
            <div class="flex flex-col sm:flex-row justify-center gap-4 sm:gap-6 mb-4">
                <a href="#/privacy" class="hover:text-slate-300 transition-colors">Privacy Policy</a>
                <a href="#/terms" class="hover:text-slate-300 transition-colors">Terms of Service</a>
                <a href="https://github.com/Hemrem19/emresarchive" target="_blank"
                    class="hover:text-slate-300 transition-colors">GitHub</a>
            </div>
            <p>&copy; 2025 citavers. Built for science.</p>
        </footer>

    </div> <!-- End Landing Page -->


    <!-- ========================================== -->
    <!-- APP SHELL (Hidden by default on root)      -->
    <!-- ========================================== -->
    <div id="app-shell" class="hidden relative z-10">

        <!-- Mobile Sidebar Overlay & Sidebar -->
        <div id="mobile-sidebar-overlay"
            class="fixed inset-0 bg-black/60 z-30 hidden lg:hidden transition-opacity opacity-0 pointer-events-none backdrop-blur-sm">
        </div>
        <aside id="mobile-sidebar"
            class="fixed top-0 left-0 h-full w-64 max-w-[85vw] glass-sidebar border-r border-slate-200 dark:border-slate-800 p-4 flex flex-col z-40 -translate-x-full lg:hidden shadow-2xl">
            <!-- Mobile Sidebar Content -->
            <div class="flex items-center justify-between mb-6 sm:mb-8">
                <a href="#/app" class="flex items-center gap-2 sm:gap-3 text-slate-900 dark:text-slate-100">
                    <img src="assets/logos/logo-mark.png" alt="citavers logo" class="h-7 w-7 sm:h-8 sm:w-8"
                        onerror="this.style.display='none'">
                    <h1 class="text-lg sm:text-xl font-bold font-display lowercase">citavers</h1>
                </a>
                <button id="close-mobile-menu-btn"
                    class="p-2 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 min-w-[44px] min-h-[44px] flex items-center justify-center">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>

            <!-- Mobile Nav Links -->
            <nav class="flex-grow space-y-1 overflow-y-auto custom-scrollbar">
                <a href="#/app"
                    class="sidebar-all-papers-link sidebar-link flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-primary transition-colors text-sm sm:text-base min-h-[44px]">
                    <span class="material-symbols-outlined text-[20px] sm:text-[24px]">inbox</span>
                    <span class="font-medium">All Papers</span>
                </a>
                <a href="#/graph"
                    class="sidebar-link flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-primary transition-colors text-sm sm:text-base min-h-[44px]">
                    <span class="material-symbols-outlined text-[20px] sm:text-[24px]">hub</span>
                    <span class="font-medium">Network</span>
                </a>
                <a href="#/settings"
                    class="sidebar-link flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-primary transition-colors text-sm sm:text-base min-h-[44px]">
                    <span class="material-symbols-outlined text-[20px] sm:text-[24px]">settings</span>
                    <span class="font-medium">Settings</span>
                </a>

                <!-- Spacer -->
                <div class="h-4"></div>

                <!-- Sidebar dynamic content containers -->
                <div id="mobile-sidebar-status-list"></div>
                <div id="mobile-sidebar-collections-section"></div>
                <div id="mobile-sidebar-tags-section"></div>
            </nav>
        </aside>

        <div class="flex min-h-screen">
            <!-- Desktop Sidebar -->
            <aside id="desktop-sidebar"
                class="w-64 glass-sidebar border-r border-slate-200 dark:border-slate-800 p-4 flex-col hidden lg:flex sticky top-0 h-screen">
                <a href="#/app" class="flex items-center gap-3 mb-8 text-slate-900 dark:text-slate-100 px-2">
                    <img src="assets/logos/logo-mark.png" alt="citavers logo" class="h-8 w-8"
                        onerror="this.style.display='none'">
                    <h1 class="text-xl font-bold font-display lowercase">citavers</h1>
                </a>

                <nav class="flex-grow space-y-1 overflow-y-auto custom-scrollbar">
                    <h3
                        class="px-3 text-xs font-bold uppercase text-slate-500 dark:text-slate-400 tracking-wider mb-2 mt-2">
                        Library</h3>

                    <a href="#/app"
                        class="sidebar-all-papers-link sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-primary transition-colors">
                        <span class="material-symbols-outlined text-[20px]">inbox</span>
                        <span class="text-sm font-medium">All Papers</span>
                    </a>
                    <a href="#/graph"
                        class="sidebar-link flex items-center gap-3 px-3 py-2 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-primary transition-colors">
                        <span class="material-symbols-outlined text-[20px]">hub</span>
                        <span class="text-sm font-medium">Network</span>
                    </a>

                    <!-- Dynamic Status & Collections Container -->
                    <div id="sidebar-dynamic-content">
                        <div class="pt-6">
                            <h3
                                class="px-3 text-xs font-bold uppercase text-slate-500 dark:text-slate-400 tracking-wider mb-2">
                                Status</h3>
                            <div id="sidebar-status-list" class="space-y-1"></div>
                        </div>
                        <div id="sidebar-collections-section" class="pt-6"></div>
                        <div id="sidebar-tags-section" class="pt-6"></div>
                    </div>
                </nav>

                <div class="mt-auto pt-4 border-t border-slate-200 dark:border-slate-800">
                    <a href="#/settings"
                        class="flex items-center gap-3 px-3 py-2 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors">
                        <span class="material-symbols-outlined text-[20px]">settings</span>
                        <span class="text-sm font-medium">Settings</span>
                    </a>
                </div>
            </aside>

            <!-- Main Application Area -->
            <div class="flex-1 flex flex-col min-w-0 bg-transparent">
                <!-- Header -->
                <header class="flex items-center justify-between px-4 sm:px-6 py-3 glass-panel sticky top-0 z-20">
                    <div class="flex items-center gap-3 sm:gap-4 flex-1">
                        <button id="mobile-menu-btn"
                            class="lg:hidden p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg">
                            <span class="material-symbols-outlined">menu</span>
                        </button>

                        <!-- Search Bar -->
                        <div class="relative flex-1 max-w-2xl group">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <span
                                    class="material-symbols-outlined text-slate-500 group-focus-within:text-blue-400 transition-colors text-[20px]">search</span>
                            </div>
                            <input id="search-input"
                                class="w-full h-10 pl-10 pr-10 bg-slate-100 dark:bg-slate-800/40 border border-transparent dark:border-slate-700/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 focus:bg-white dark:focus:bg-slate-800/80 text-sm placeholder-slate-500 dark:text-slate-200 transition-all shadow-sm"
                                placeholder="Search papers, authors, or paste a DOI..." type="text" />
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <kbd
                                    class="hidden sm:inline-flex items-center h-5 px-2 rounded border border-slate-300 dark:border-slate-700 bg-slate-200 dark:bg-slate-800/50 text-[10px] text-slate-500 font-sans font-bold">⌘K</kbd>
                            </div>
                        </div>

                        <!-- Search Mode -->
                        <div
                            class="hidden md:flex bg-slate-100 dark:bg-slate-800/40 rounded-lg p-1 border border-transparent dark:border-slate-700/50">
                            <button id="search-mode-all"
                                class="px-3 py-1 text-xs font-medium rounded shadow-sm bg-white dark:bg-slate-700 text-slate-900 dark:text-white transition-all">All</button>
                            <button id="search-mode-notes"
                                class="px-3 py-1 text-xs font-medium rounded text-slate-500 hover:text-slate-900 dark:hover:text-white transition-all">Notes</button>
                        </div>
                    </div>

                    <div class="flex items-center gap-2 sm:gap-3 ml-2 sm:ml-4">
                        <a href="#/add"
                            class="flex items-center gap-2 px-3 sm:px-4 py-2 bg-primary hover:bg-blue-600 text-white text-sm font-semibold rounded-lg transition-all shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 border border-blue-400/20 active:scale-95">
                            <span class="material-symbols-outlined text-[20px]">add</span>
                            <span class="hidden sm:inline">Add Paper</span>
                        </a>
                        <div id="auth-button"></div>
                    </div>
                </header>

                <!-- Router View Container -->
                <main id="app" class="flex-grow p-4 sm:p-6 overflow-y-auto"></main>
            </div>
        </div>
    </div>

    <!-- Global Overlays -->
    <div id="toast-container" class="fixed top-6 right-6 z-[60] space-y-3 pointer-events-none"></div>
    <div id="command-palette-container"></div>
    <div id="auth-modal-container"></div>

    <!-- Scripts -->
    <script>
        // --- 1. Routing Logic ---
        function handleRouting() {
            const hash = window.location.hash;
            const landingPage = document.getElementById('landing-page');
            const appShell = document.getElementById('app-shell');

            // If hash is empty or just #/ -> Show Landing Page
            if (!hash || hash === '#/' || hash === '#') {
                landingPage.classList.remove('hidden');
                appShell.classList.add('hidden');
                document.body.style.overflow = ''; // Enable body scroll for landing page
            } else {
                // Any other route -> Show App Shell
                landingPage.classList.add('hidden');
                appShell.classList.remove('hidden');
                // Don't set body overflow to hidden - let the app container handle scrolling
                // The #app container has overflow-y-auto which handles scrolling

                // Dispatch custom event when app shell becomes visible so app.js can re-initialize handlers
                // Use requestAnimationFrame to ensure DOM is updated before calling router
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                    window.dispatchEvent(new CustomEvent('app-shell-visible'));
                        // Call router after app-shell is visible (same as working buttons)
                        if (window.appRouter && typeof window.appRouter === 'function') {
                            window.appRouter();
                        }
                    });
                });
            }
        }

        // Initialize routing
        window.addEventListener('load', handleRouting);
        window.addEventListener('hashchange', function() {
            handleRouting();
            // handleRouting will call the router after app-shell becomes visible
            // This matches how the working buttons (#/app) work - they rely on hashchange
            // and handleRouting() ensures app-shell is visible before router runs
        });
        
        // Note: No special click handler needed - let browser handle hash navigation naturally
        // The hashchange event listener will handle routing for all links
    </script>

      <!-- Core App Script -->
      <script type="module" src="app.js"></script>

      <!-- Landing Page Graph Demo -->
      <script>
          // Initialize interactive graph demo on landing page
          (function() {
              // Sample paper data for demo
              const demoPapers = [
                  { id: 1, title: 'Deep Learning Fundamentals', readingStatus: 'Finished', relatedPaperIds: [2, 3, 4] },
                  { id: 2, title: 'Neural Network Architectures', readingStatus: 'Reading', relatedPaperIds: [1, 3, 5] },
                  { id: 3, title: 'Attention Mechanisms in NLP', readingStatus: 'Reading', relatedPaperIds: [1, 2, 4, 6] },
                  { id: 4, title: 'Transformer Models', readingStatus: 'Finished', relatedPaperIds: [1, 3, 5, 7] },
                  { id: 5, title: 'BERT and Variants', readingStatus: 'To Read', relatedPaperIds: [2, 4, 6] },
                  { id: 6, title: 'GPT Architecture', readingStatus: 'To Read', relatedPaperIds: [3, 5, 7] },
                  { id: 7, title: 'Large Language Models', readingStatus: 'Reading', relatedPaperIds: [4, 6, 8] },
                  { id: 8, title: 'Prompt Engineering', readingStatus: 'To Read', relatedPaperIds: [7, 9] },
                  { id: 9, title: 'Fine-tuning Strategies', readingStatus: 'To Read', relatedPaperIds: [8] },
                  { id: 10, title: 'Reinforcement Learning', readingStatus: 'Finished', relatedPaperIds: [1] }
              ];

              function getNodeColor(status) {
                  const s = (status || '').toLowerCase().trim();
                  const colors = {
                      'reading': { background: '#3b82f6', border: '#60a5fa' },
                      'to read': { background: '#eab308', border: '#facc15' },
                      'finished': { background: '#22c55e', border: '#4ade80' },
                      'completed': { background: '#22c55e', border: '#4ade80' }
                  };
                  return colors[s] || { background: '#64748b', border: '#94a3b8' };
              }

              function truncateTitle(title, maxLength) {
                  if (title.length <= maxLength) return title;
                  return title.substring(0, maxLength - 3) + '...';
              }

              function prepareGraphData(papers) {
                  const nodes = [];
                  const edges = [];
                  const paperIdSet = new Set(papers.map(p => p.id));
                  const edgeSet = new Set();

                  papers.forEach(paper => {
                      const connectionCount = (paper.relatedPaperIds || []).filter(id => paperIdSet.has(id)).length;
                      const color = getNodeColor(paper.readingStatus);
                      nodes.push({
                          id: paper.id,
                          label: truncateTitle(paper.title, 20),
                          shape: 'dot',
                          size: Math.max(20, Math.min(50, 20 + connectionCount * 3)),
                          color: color,
                          font: { color: '#ffffff', strokeWidth: 0, size: 14, face: 'Manrope' },
                          shadow: { enabled: true, color: 'rgba(0,0,0,0.5)', size: 10, x: 0, y: 0 }
                      });

                      if (paper.relatedPaperIds) {
                          paper.relatedPaperIds.forEach(relatedId => {
                              if (paperIdSet.has(relatedId)) {
                                  const edgeKey = [Math.min(paper.id, relatedId), Math.max(paper.id, relatedId)].join('-');
                                  if (!edgeSet.has(edgeKey)) {
                                      edgeSet.add(edgeKey);
                                      edges.push({
                                          from: paper.id,
                                          to: relatedId,
                                          width: 1,
                                          color: { color: 'rgba(255,255,255,0.15)', highlight: '#3b82f6', hover: '#3b82f6' },
                                          smooth: { type: 'curvedCW', roundness: 0.2 }
                                      });
                                  }
                              }
                          });
                      }
                  });
                  return { nodes, edges };
              }

              function initGraphDemo() {
                  const container = document.getElementById('landing-graph-demo');
                  if (!container) return;

                  // Wait for vis-network to load
                  if (!window.vis) {
                      // Retry after a short delay
                      setTimeout(initGraphDemo, 100);
                      return;
                  }

                  const graphData = prepareGraphData(demoPapers);
                  const data = {
                      nodes: new vis.DataSet(graphData.nodes),
                      edges: new vis.DataSet(graphData.edges)
                  };

                  const options = {
                      nodes: {
                          borderWidth: 0,
                          borderWidthSelected: 2,
                          color: {
                              border: '#ffffff',
                              highlight: { border: '#ffffff', background: '#3b82f6' },
                              hover: { border: '#ffffff', background: '#3b82f6' }
                          },
                          font: {
                              color: '#ffffff',
                              size: 14,
                              face: 'Manrope',
                              strokeWidth: 0
                          },
                          shadow: {
                              enabled: true,
                              color: 'rgba(0,0,0,0.5)',
                              size: 10,
                              x: 0,
                              y: 0
                          }
                      },
                      edges: {
                          width: 1,
                          color: {
                              color: 'rgba(255,255,255,0.15)',
                              highlight: '#3b82f6',
                              hover: '#3b82f6'
                          },
                          smooth: {
                              type: 'curvedCW',
                              roundness: 0.2
                          },
                          shadow: {
                              enabled: false
                          }
                      },
                      physics: {
                          enabled: true,
                          stabilization: {
                              enabled: true,
                              iterations: 200,
                              updateInterval: 25,
                              onlyDynamicEdges: false,
                              fit: true
                          },
                          solver: 'forceAtlas2Based',
                          forceAtlas2Based: {
                              gravitationalConstant: -50,
                              centralGravity: 0.01,
                              springLength: 100,
                              springConstant: 0.08,
                              damping: 0.4,
                              avoidOverlap: 0.5
                          },
                          maxVelocity: 50,
                          minVelocity: 0.1,
                          timestep: 0.5,
                          adaptiveTimestep: true
                      },
                      interaction: {
                          hover: true,
                          tooltipDelay: 200,
                          hideEdgesOnDrag: false,
                          hideEdgesOnZoom: false,
                          navigationButtons: false,
                          keyboard: false,
                          multiselect: false,
                          zoomView: true,
                          dragView: true,
                          zoomSpeed: 0.5
                      }
                  };

                  try {
                      const network = new vis.Network(container, data, options);
                      
                      // Add hover tooltip
                      network.on('hoverNode', function(params) {
                          const paper = demoPapers.find(p => p.id === params.node);
                          if (paper) {
                              container.style.cursor = 'pointer';
                          }
                      });
                      
                      network.on('blurNode', function() {
                          container.style.cursor = 'default';
                      });
                  } catch (error) {
                      console.error('Error initializing graph demo:', error);
                  }
              }

              // Initialize when DOM is ready
              if (document.readyState === 'loading') {
                  document.addEventListener('DOMContentLoaded', function() {
                      setTimeout(initGraphDemo, 500);
                  });
              } else {
                  setTimeout(initGraphDemo, 500);
              }
          })();
      </script>

      <!-- Landing Page Animations: Notes Typing, Hero Cards, Feature Checklist -->
      <script>
          (function() {
              // 1. Animated Typing Demo for Notes Section
              function initNotesTypingDemo() {
                  const contentEl = document.getElementById('notes-demo-content');
                  const progressBar = document.getElementById('progress-bar');
                  const progressText = document.getElementById('progress-text');
                  
                  if (!contentEl) return;

                  const sampleNotes = [
                      '**Key Findings:**',
                      '',
                      '• The transformer architecture revolutionized NLP',
                      '• Attention mechanisms allow parallel processing',
                      '• Pre-training on large datasets improves downstream tasks',
                      '',
                      '**Important Points:**',
                      '',
                      '1. Self-attention enables long-range dependencies',
                      '2. Positional encoding maintains sequence order',
                      '3. Multi-head attention captures different relationships',
                      '',
                      '**Questions to explore:**',
                      '',
                      '• How does this compare to RNN architectures?',
                      '• What are the computational requirements?'
                  ];

                  let currentLine = 0;
                  let currentChar = 0;
                  let isTyping = false;

                  function typeNextChar() {
                      if (currentLine >= sampleNotes.length) {
                          // Reset and restart after a pause
                          setTimeout(() => {
                              contentEl.innerHTML = '';
                              currentLine = 0;
                              currentChar = 0;
                              typeNextChar();
                          }, 3000);
                          return;
                      }

                      const line = sampleNotes[currentLine];
                      
                      if (currentChar === 0) {
                          // Start new line
                          if (currentLine > 0) {
                              contentEl.innerHTML += '<br>';
                          }
                      }

                      if (currentChar < line.length) {
                          // Type character
                          const char = line[currentChar];
                          if (char === '*') {
                              // Handle markdown bold
                              const nextChar = line[currentChar + 1];
                              if (nextChar === '*') {
                                  contentEl.innerHTML += '<strong>';
                                  currentChar += 2;
                                  typeNextChar();
                                  return;
                              }
                          }
                          
                          // Check for closing bold
                          if (char === '*' && line[currentChar + 1] === '*' && contentEl.innerHTML.includes('<strong>')) {
                              contentEl.innerHTML += '</strong>';
                              currentChar += 2;
                              typeNextChar();
                              return;
                          }

                          contentEl.innerHTML += char === ' ' ? '&nbsp;' : char;
                          currentChar++;
                          setTimeout(typeNextChar, 30 + Math.random() * 20);
                      } else {
                          // Line complete, move to next
                          currentLine++;
                          currentChar = 0;
                          setTimeout(typeNextChar, 200);
                      }

                      // Update progress bar
                      const progress = Math.min(100, (currentLine / sampleNotes.length) * 100);
                      progressBar.style.width = progress + '%';
                      progressText.textContent = Math.round(progress) + '%';
                  }

                  // Start typing after a short delay
                  setTimeout(() => {
                      typeNextChar();
                  }, 1000);
              }

              // 2. Interactive Search Demo for Hero Section
              function initHeroSearchDemo() {
                  const searchInput = document.getElementById('hero-search-input');
                  const resultsContainer = document.getElementById('hero-search-results');
                  
                  if (!searchInput || !resultsContainer) return;

                  const allPapers = [
                      { 
                          id: 1,
                          title: 'Attention Is All You Need', 
                          authors: 'Vaswani et al.', 
                          year: 2017,
                          status: 'Finished',
                          statusColor: 'bg-green-500',
                          tags: ['NLP', 'Transformers']
                      },
                      { 
                          id: 2,
                          title: 'BERT: Pre-training of Deep Bidirectional Transformers', 
                          authors: 'Devlin et al.', 
                          year: 2018,
                          status: 'Reading',
                          statusColor: 'bg-blue-500',
                          tags: ['NLP', 'BERT']
                      },
                      { 
                          id: 3,
                          title: 'Language Models are Few-Shot Learners', 
                          authors: 'Brown et al.', 
                          year: 2020,
                          status: 'To Read',
                          statusColor: 'bg-yellow-500',
                          tags: ['GPT', 'LLM']
                      },
                      { 
                          id: 4,
                          title: 'Scaling Laws for Neural Language Models', 
                          authors: 'Kaplan et al.', 
                          year: 2020,
                          status: 'Reading',
                          statusColor: 'bg-blue-500',
                          tags: ['Scaling', 'LLM']
                      }
                  ];

                  function highlightText(text, searchTerm) {
                      if (!searchTerm) return text;
                      const regex = new RegExp(`(${searchTerm})`, 'gi');
                      return text.replace(regex, '<mark class="bg-yellow-500/30 text-yellow-200 rounded px-0.5">$1</mark>');
                  }

                  function renderPapers(papers, searchTerm = '') {
                      if (papers.length === 0) {
                          resultsContainer.innerHTML = `
                              <div class="text-center py-8 text-slate-400">
                                  <span class="material-symbols-outlined text-4xl mb-2 block">search_off</span>
                                  <p class="text-sm">No papers found</p>
                              </div>
                          `;
                          return;
                      }

                      resultsContainer.innerHTML = papers.map(card => {
                          const highlightedTitle = highlightText(card.title, searchTerm);
                          const highlightedAuthors = highlightText(card.authors, searchTerm);
                          
                          return `
                              <div class="paper-card rounded-xl p-4 relative overflow-hidden transform transition-all duration-300" style="opacity: 0; transform: translateY(10px);">
                                  <div class="absolute left-0 top-0 bottom-0 w-1 ${card.statusColor} rounded-l-xl"></div>
                                  <div class="flex items-start gap-3 pl-2">
                                      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/5 flex items-center justify-center flex-shrink-0">
                                          <span class="material-symbols-outlined text-[20px] text-slate-400">description</span>
                                      </div>
                                      <div class="flex-1 min-w-0">
                                          <h3 class="text-sm font-bold text-slate-100 mb-1 line-clamp-2">${highlightedTitle}</h3>
                                          <p class="text-xs text-slate-400 mb-2">${highlightedAuthors} - ${card.year}</p>
                                          <div class="flex flex-wrap gap-1">
                                              ${card.tags.map(tag => `<span class="px-2 py-0.5 rounded text-[10px] font-semibold bg-blue-500/10 text-blue-400 border border-blue-500/20">#${tag}</span>`).join('')}
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          `;
                      }).join('');

                      // Animate cards in
                      const cards = resultsContainer.querySelectorAll('.paper-card');
                      cards.forEach((card, index) => {
                          setTimeout(() => {
                              card.style.opacity = '1';
                              card.style.transform = 'translateY(0)';
                          }, index * 50);
                      });
                  }

                  // Initial render
                  renderPapers(allPapers);

                  // Search functionality
                  let searchTimeout;
                  searchInput.addEventListener('input', function(e) {
                      const searchTerm = e.target.value.trim().toLowerCase();
                      
                      clearTimeout(searchTimeout);
                      searchTimeout = setTimeout(() => {
                          if (searchTerm === '') {
                              renderPapers(allPapers);
                          } else {
                              const filtered = allPapers.filter(paper => {
                                  const titleMatch = paper.title.toLowerCase().includes(searchTerm);
                                  const authorsMatch = paper.authors.toLowerCase().includes(searchTerm);
                                  const tagsMatch = paper.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                                  return titleMatch || authorsMatch || tagsMatch;
                              });
                              renderPapers(filtered, searchTerm);
                          }
                      }, 150);
                  });

                  // Focus search input on load
                  setTimeout(() => {
                      searchInput.focus();
                  }, 1000);
              }

              // 3. Feature Checklist Animation
              function initFeatureChecklist() {
                  const container = document.getElementById('feature-checklist');
                  if (!container) return;

                  const features = [
                      { icon: 'description', text: 'Paper Management & Organization' },
                      { icon: 'edit_note', text: 'Rich Text Notes & Summaries' },
                      { icon: 'search', text: 'Powerful Full-Text Search' },
                      { icon: 'label', text: 'Smart Tagging & Filtering' },
                      { icon: 'hub', text: 'Interactive Network Graph' },
                      { icon: 'link', text: 'Paper Linking & Relationships' },
                      { icon: 'folder', text: 'Collections & Saved Filters' },
                      { icon: 'track_changes', text: 'Reading Progress Tracking' },
                      { icon: 'format_quote', text: 'Citation Export (6 Formats)' },
                      { icon: 'cloud_upload', text: 'PDF Storage & Management' },
                      { icon: 'keyboard', text: 'Keyboard Shortcuts & Command Palette' },
                      { icon: 'sync', text: 'Optional Cloud Sync' }
                  ];

                  features.forEach((feature, index) => {
                      const itemEl = document.createElement('div');
                      itemEl.className = 'flex items-center gap-3 p-3 rounded-lg bg-slate-800/30 border border-white/5 opacity-0 transform translate-x-4';
                      itemEl.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                      
                      itemEl.innerHTML = `
                          <div class="w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center flex-shrink-0">
                              <span class="material-symbols-outlined text-purple-400 text-lg checkmark-icon" style="opacity: 0; transform: scale(0);">check_circle</span>
                          </div>
                          <span class="text-slate-300 text-sm font-medium">${feature.text}</span>
                      `;
                      
                      container.appendChild(itemEl);
                      
                      // Animate in with checkmark
                      setTimeout(() => {
                          itemEl.style.opacity = '1';
                          itemEl.style.transform = 'translateX(0)';
                          
                          // Animate checkmark
                          setTimeout(() => {
                              const checkmark = itemEl.querySelector('.checkmark-icon');
                              if (checkmark) {
                                  checkmark.style.transition = 'all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                                  checkmark.style.opacity = '1';
                                  checkmark.style.transform = 'scale(1)';
                              }
                          }, 200);
                      }, 500 + (index * 100));
                  });
              }

              // Initialize all animations when DOM is ready
              function initAllAnimations() {
                  initNotesTypingDemo();
                  initHeroSearchDemo();
                  
                  // Feature checklist uses Intersection Observer to trigger on scroll
                  const featureSection = document.getElementById('feature-checklist');
                  if (featureSection) {
                      const observer = new IntersectionObserver((entries) => {
                          entries.forEach(entry => {
                              if (entry.isIntersecting) {
                                  initFeatureChecklist();
                                  observer.unobserve(entry.target);
                              }
                          });
                      }, { threshold: 0.2 });
                      
                      observer.observe(featureSection.parentElement);
                  }
              }

              if (document.readyState === 'loading') {
                  document.addEventListener('DOMContentLoaded', initAllAnimations);
              } else {
                  initAllAnimations();
              }
          })();
      </script>

  </body>

  </html>